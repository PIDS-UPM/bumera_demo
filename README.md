## Repository Overview
The repository is structured as follows:
```
./modules
./scripts
./train
.gitignore
main.py
requirements_train.txt
requirements.txt
server.py
```

### Main Directories
- **modules**: Core logic and class implementations.
- **train**: Scripts and files for model training.
- **scripts**: Auxiliary tools to support program functionality.

## Setup and Execution
### Requirements
The program requires Python v3.10.11 or later. Follow these steps:
1. Create a virtual environment:
   ```
   python -m venv <environment_name>
   ```
2. Install dependencies:
   ```
   pip install -r requirements.txt
   ```
3. Run the server:
   ```
   python server.py
   ```
4. Once the server is running, execute the main program:
   ```
   python main.py
   ```

To test with a video, modify the first parameter of the Camera class in `./modules/camera.py` to point to the video file path.

### Training Environment
Training scripts in `./train` are optimized for hardware acceleration using a separate virtual environment created with Anaconda. Install dependencies with:
```
conda install --file requirements_train.txt
```

## Key Files
### Main Directory
- **main.py**: Simulates sensor components using the primary webcam.
- **server.py**: Handles system intelligence, including model execution and alarm management. Configurable for bullying detection or mood tracking.

### Modules Directory
- **camera.py**: Defines the `Camera` class for sensor interaction.
- **models.py**: Provides access to models such as `MTCNN_Face`, `Emotion_Detection`, `MoveNet`, and `CNN_Bullying` via an abstract `Model` class.
- **alarms.py**: Implements the `AlarmGenerator` class to send bullying alerts.

### Scripts Directory
- **pred2json.py**: Converts pose predictions from the MoveNet model into JSON format.
- **draw_json_pts.py**: [Deprecated] Visualizes pose data from JSON files.

## Files to Add or Generate
- **key.json**: Firebase key (confidential).
- **./videos**: Directory for training videos (`Violence` and `NonViolence`).
- **./poses**: Directory for JSON pose data generated by `pred2json.py`.
- **./models**: Directory for storing trained models.

